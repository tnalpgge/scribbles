%!PS

% desired color curve:
% 0/7 -> red ->   [ 1, 0.25, 0.25 ] #f44
% 1/7 -> orange -> [ 1, 0.5, 0.25 ] #f84
% 2/7 -> yellow -> [ 1, 1, 0.25 ] #ff4
% 3/7 -> green ->  [ 0.25, 1, 0.25 ] #4f4
% 4/7 -> cyan ->  [ 0.25, 1, 1 ] #4ff
% 5/7 -> blue ->  [ 0.25, 0.5, 1 ] #48f
% 6/7 -> magenta -> [ 1, 0.25, 1 ] #f4f
/colorsincycle 7 def
/piece 360 colorsincycle div def
/secondpiece piece 2 mul def
/thirdpiece piece 3 mul def
/fourthpiece piece 4 mul def
/fifthpiece piece 5 mul def
/sixthpiece piece 6 mul def

/greenangle { % angle => coordinate
    % 0.25 => 0.5 => 1 => 1 => 1 => 0.5 => 0.25 => ...
    /thisangle exch def
    thisangle secondpiece ge
    thisangle fourthpiece le
    and {
	1
    } {
	thisangle sixthpiece ge {
	    0.25
	} {
	    thisangle 0 ge
	    thisangle piece lt
	    and {
		thisangle piece div 0.25 mul 0.25 add
	    } {
		thisangle piece ge
		thisangle secondpiece lt
		and {
		    thisangle piece sub piece div 0.5 mul 0.5 add
		} {
		    thisangle fourthpiece ge
		    thisangle fifthpiece lt
		    and {
			fifthpiece thisangle sub piece div 0.5 mul 0.5 add
		    } {
			sixthpiece thisangle sub piece div 0.25 mul 0.25 add
		    } ifelse
		} ifelse
	    } ifelse
	} ifelse
    } ifelse
} bind def

/blueangle { % angle => coordinate
    % 0.25 => 0.25 => 0.25 => 0.25 => 1 => 1 => 1 => ...
    /thisangle exch def
    thisangle 0 ge
    thisangle thirdpiece le
    and {
	0.25
    } {
	thisangle fourthpiece ge
	thisangle sixthpiece le
	and {
	    1
	} {
	    thisangle thirdpiece gt
	    thisangle fourthpiece lt
	    and {
		thisangle thirdpiece sub piece div 0.75 mul 0.25 add
	    } {
		360 thisangle sub piece div 0.75 mul 0.25 add
	    } ifelse
	} ifelse
    } ifelse
} bind def

/redangle { % angle => coordinate
    % 1 => 1 => 1 => 0.25 => 0.25 => 0.25 => 1 => ...
    /thisangle exch def
    thisangle secondpiece le
    thisangle sixthpiece ge
    or {
	1
    } {
	thisangle thirdpiece ge
	thisangle fifthpiece le
	and {
	    0.25
	} {
	    thisangle fifthpiece gt
	    thisangle sixthpiece lt
	    and {
		thisangle fifthpiece sub piece div 0.75 mul 0.25 add
	    } {
		thirdpiece thisangle sub piece div 0.75 mul 0.25 add
	    } ifelse
	} ifelse
    } ifelse
} bind def

0 10 360 { pstack greenangle pstack pop } for

